<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>改造vitepess作为个人博客 | 绝弹笔记</title>
    <meta name="description" content="一位前端开发者的笔记">
    <meta name="generator" content="VitePress v1.0.0-rc.32">
    <link rel="preload stylesheet" href="/assets/style.SvL3nE7h.css" as="style">
    
    <script type="module" src="/assets/app.0SwQ57Hy.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.3EKbrk2Y.js">
    <link rel="modulepreload" href="/assets/chunks/index.Dh16q5cb.js">
    <link rel="modulepreload" href="/assets/chunks/theme.TL6RVJYv.js">
    <link rel="modulepreload" href="/assets/chunks/index.l1sykNIE.js">
    <link rel="modulepreload" href="/assets/frontend_vitepress-blog_index.md.oIJCV3Z9.lean.js">
    <meta name="keywords" content="绝弹博客|绝弹笔记|绝弹|博客|前端开发|后端开发|技术|web|框架">
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-238ebcef><!--[--><!--]--><!--[--><span tabindex="-1" data-v-adaf9da8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-adaf9da8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-238ebcef data-v-1237396b><div class="VPNavBar" data-v-1237396b data-v-8109a213><div class="container" data-v-8109a213><div class="title" data-v-8109a213><div class="VPNavBarTitle" data-v-8109a213 data-v-2e68a369><a class="title" href="/" data-v-2e68a369><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.ico" alt data-v-109b9219><!--]--><!--[-->绝弹笔记<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-8109a213><div class="curtain" data-v-8109a213></div><div class="content-body" data-v-8109a213><!--[--><!--]--><div class="VPNavBarSearch search" data-v-8109a213><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8109a213 data-v-81cade2c><span id="main-nav-aria-label" class="visually-hidden" data-v-81cade2c>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-81cade2c data-v-dd81116f><!--[--><span class="i-icon-park-outline-home mr-1" data-v-dd81116f></span> 首页<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archive/" tabindex="0" data-v-81cade2c data-v-dd81116f><!--[--><span class="i-icon-park-outline-time mr-1" data-v-dd81116f></span> 归档<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about/" tabindex="0" data-v-81cade2c data-v-dd81116f><!--[--><span class="i-icon-park-outline-user mr-1" data-v-dd81116f></span> 关于<!--]--></a><!--]--><!--]--></nav><!----><!----><!----><!----><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8109a213 data-v-99bb6966><span class="container" data-v-99bb6966><span class="top" data-v-99bb6966></span><span class="middle" data-v-99bb6966></span><span class="bottom" data-v-99bb6966></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-238ebcef data-v-9c05e30a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9c05e30a data-v-a6f0c0f1><button data-v-a6f0c0f1>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-238ebcef data-v-ba0bbc3d><div class="VPDoc has-aside" data-v-ba0bbc3d data-v-fa248dc2><!--[--><!--]--><div class="container" data-v-fa248dc2><div class="aside" data-v-fa248dc2><div class="aside-curtain" data-v-fa248dc2></div><div class="aside-container" data-v-fa248dc2><div class="aside-content" data-v-fa248dc2><div class="VPDocAside" data-v-fa248dc2 data-v-eaad65c7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-eaad65c7 data-v-f25e30cd><div class="content" data-v-f25e30cd><div class="outline-marker" data-v-f25e30cd></div><div class="outline-title" role="heading" aria-level="2" data-v-f25e30cd>本篇目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-f25e30cd><span class="visually-hidden" id="doc-outline-aria-label" data-v-f25e30cd> Table of Contents for current page </span><ul class="root" data-v-f25e30cd data-v-eb0b22f7><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-eaad65c7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-fa248dc2><div class="content-container" data-v-fa248dc2><!--[--><!--[--><!--[--><div data-v-ff82ea4b><h1 class="doc-title" data-v-ff82ea4b>改造vitepess作为个人博客</h1><div class="w-full text-gray-500 text-xs flex items-center gap-3 border-b border-slate-200 pb-4 mt-4 mb-6" data-v-ff82ea4b><div data-v-ff82ea4b><span class="i-icon-park-outline-user" data-v-ff82ea4b></span> 绝弹 </div><time datetime="2023-06-17T11:42:00.000Z" title="2023-06-17T11:42:00.000Z" data-v-ff82ea4b><span class="i-icon-park-outline-time" data-v-ff82ea4b></span> 2023年06月17日</time></div></div><!--]--><!--]--><!--]--><!----><main class="main" data-v-fa248dc2><div style="position:relative;" class="vp-doc _frontend_vitepress-blog_" data-v-fa248dc2><div><p>作为一名程序员，写日记是常有的事，日常我都是写在有道云笔记里面，可以看下我在有道上的记录：</p><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><p>但最近搞了不少小工具，遇到不少问题并想记录下来，各种方案搜下来最终决定使用 Vitepress 以静态博客形式写日记。</p><h2 id="选择-vitepress" tabindex="-1">选择 Vitepress <a class="header-anchor" href="#选择-vitepress" aria-label="Permalink to &quot;选择 Vitepress&quot;">​</a></h2><p>在这之前，我是有一台 1 核 2G 的小水管服务器的，基于 Typecho 搭建了个博客，还购买了 Handsome 主题，但平常真的懒得上去加上经常遭到各种暴力入侵等原因，后来就慢慢闲置下来了。</p><p>为什么使用 Vitepress 呢，有以下几个原因：</p><ul><li>整体是 vite + vue 技术栈，写起来比较熟悉且没有 hexo 那么陌生</li><li>可以很方便地插入各种示例和 vue 组件，本质上是个 vue 项目</li><li>可以集成到 Github Action 里，只要提交就自动部署了</li></ul><p>但有好处也有问题，Vitepress 整体上是偏向文档风格的，改造成博客风格需要花费一番功夫。在改造过程中，遇到不少问题，但结果是比较满意的，以下是我的一些记录。</p><h2 id="初始化项目" tabindex="-1">初始化项目 <a class="header-anchor" href="#初始化项目" aria-label="Permalink to &quot;初始化项目&quot;">​</a></h2><p>这一步比较简单，可以跟着官方教程来，有些不一样的列在了下面。</p><ol><li>初始化，参数根据自己喜好选择就行</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">npx</span><span style="color:#032F62;"> vitepress</span><span style="color:#032F62;"> init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>执行后会生成下面的目录结构</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-light vp-code"><code><span class="line"><span>- docs</span></span>
<span class="line"><span>---.vitepress</span></span>
<span class="line"><span>--- index.md</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>上面的目录形式，适合项目型文档，因此我改成了下面的目录结构。</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-light vp-code"><code><span class="line"><span>- docs</span></span>
<span class="line"><span>---.vitepress</span></span>
<span class="line"><span>--- index.md</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>目录结构改完之后，还要配置下 <code>.vitepress/config.ts</code> (如下)，其中 src 作为放置 .md 文件的目录，dist 作为打包后的目录，跟 vue 项目差不多的风格。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#6F42C1;"> defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  srcDir: </span><span style="color:#032F62;">&#39;src&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  outDir: </span><span style="color:#032F62;">&#39;dist&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="添加图标和原子类样式" tabindex="-1">添加图标和原子类样式 <a class="header-anchor" href="#添加图标和原子类样式" aria-label="Permalink to &quot;添加图标和原子类样式&quot;">​</a></h2><p>由于是个人博客且使用 markdown，使用原子类是比较方便的，这里使用 unocss 插件，而 unocss 本身支持图标的生成和按需打包。</p><ol><li>安装依赖，图标我使用的是 <a href="https://iconpark.oceanengine.com/official" target="_blank" rel="noreferrer">Iconpark</a>，可以 <a href="https://icon-sets.iconify.design/" target="_blank" rel="noreferrer">点击这里</a> 查看支持的图标集。</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#032F62;"> install</span><span style="color:#032F62;"> unocss</span><span style="color:#032F62;"> @iconify-json/icon-park-outline</span><span style="color:#005CC5;"> -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>配置 <code>.vitepress/config.ts</code> 中的 vite 配置项</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Unocss </span><span style="color:#D73A49;">from</span><span style="color:#032F62;"> &#39;unocss/vite&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { presetUno, presetIcons } </span><span style="color:#D73A49;">from</span><span style="color:#032F62;"> &#39;unocss&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#6F42C1;"> defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  vite: {</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span></span>
<span class="line"><span style="color:#6F42C1;">      Unocss</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        content: {</span></span>
<span class="line"><span style="color:#24292E;">          pipeline: {</span></span>
<span class="line"><span style="color:#24292E;">            include: [</span><span style="color:#032F62;">/</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">(vue</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">svelte</span><span style="color:#D73A49;">|</span><span style="color:#005CC5;">[jt]</span><span style="color:#032F62;">sx</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">mdx</span><span style="color:#D73A49;">?|</span><span style="color:#032F62;">astro</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">elm</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">php</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">phtml</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">html</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">ts)(</span><span style="color:#D73A49;">$|</span><span style="color:#22863A;font-weight:bold;">\?</span><span style="color:#032F62;">)/</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">          filesystem: [</span><span style="color:#032F62;">&#39;.vitepress/config.ts&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        presets: [</span><span style="color:#6F42C1;">presetUno</span><span style="color:#24292E;">(), </span><span style="color:#6F42C1;">presetIcons</span><span style="color:#24292E;">()],</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>需要注意的是，unocss 默认不支持 .ts 文件的扫描，因此要手动加上。且 <code>.vitepress/config.ts</code> 不在 vue 的构建流中，需要作为文件进行扫描。</p><ol start="3"><li>添加完后，就可以按这样使用了，只会打包使用的 css 类和图标类，非常银杏化。</li></ol><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">  &lt;!-- css类 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">button</span><span style="color:#6F42C1;"> class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text-blue-500&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">    &lt;!-- 图标类 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">i</span><span style="color:#6F42C1;"> class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;i-icon-park-outline-home&quot;</span><span style="color:#B31D28;font-style:italic;"> /</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    首页</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="4"><li>最后贴一个图标的效果图</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><h2 id="添加图片预览组件" tabindex="-1">添加图片预览组件 <a class="header-anchor" href="#添加图片预览组件" aria-label="Permalink to &quot;添加图片预览组件&quot;">​</a></h2><p>默认生成的页面中，图片是不能放大的，这不太符合我的需求。研究了一下文档，绕了一些弯路，最终找到了一个理想的方案。</p><ol><li>预览组件使用的是 Arco Design 的 <a href="https://arco.design/vue/component/image" target="_blank" rel="noreferrer">图片组件</a>，这是考虑后面其他地方也会用到这个组件库。</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#032F62;"> install</span><span style="color:#032F62;"> @arco-design/web-vue</span><span style="color:#005CC5;"> -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>在 <code>.vitepress/theme/index.ts</code> 中，注册为全局组件。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Image } </span><span style="color:#D73A49;">from</span><span style="color:#032F62;"> &#39;@arco-design/web-vue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#6F42C1;">  enhanceApp</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">app</span><span style="color:#24292E;">, </span><span style="color:#E36209;">router</span><span style="color:#24292E;">, </span><span style="color:#E36209;">siteData</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;"> EnhanceAppContext</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    app.</span><span style="color:#6F42C1;">component</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Image&#39;</span><span style="color:#24292E;">, Image);</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>在 <code>.vitepress/config.ts</code> 中，改造一下 markdown-it 的渲染规则。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#6F42C1;"> defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  markdown: {</span></span>
<span class="line"><span style="color:#6F42C1;">    config</span><span style="color:#24292E;">(</span><span style="color:#E36209;">md</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      md.renderer.rules.</span><span style="color:#6F42C1;">image</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">tokens</span><span style="color:#24292E;">, </span><span style="color:#E36209;">idx</span><span style="color:#24292E;">, </span><span style="color:#E36209;">options</span><span style="color:#24292E;">, </span><span style="color:#E36209;">env</span><span style="color:#24292E;">, </span><span style="color:#E36209;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#D73A49;">        const</span><span style="color:#005CC5;"> token</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> tokens[idx];</span></span>
<span class="line"><span style="color:#D73A49;">        const</span><span style="color:#005CC5;"> aIndex</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> token.</span><span style="color:#6F42C1;">attrIndex</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;src&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">        const</span><span style="color:#005CC5;"> src</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> token.attrs</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">[aIndex][</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#D73A49;">        return</span><span style="color:#032F62;"> `&lt;Image src=&quot;${</span><span style="color:#24292E;">src</span><span style="color:#032F62;">}&quot; class=&quot;cursor-pointer hover:shadow shadow-blue-100&quot;  /&gt;`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="4"><li>上面做完后，本地就可以跑起来了，但打包是有问题的。问题在于 vue 默认支持 img，video 等原生标签 src 静态引用的打包，而 Image 组件的 src 没有被打包。这个可以配置下 @vitejs/plugin-vue 插件，还是 <code>.vitepress/config.ts</code> 文件。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#6F42C1;"> defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  vue: {</span></span>
<span class="line"><span style="color:#24292E;">    template: {</span></span>
<span class="line"><span style="color:#24292E;">      transformAssetUrls: {</span></span>
<span class="line"><span style="color:#24292E;">        Image: [</span><span style="color:#032F62;">&#39;src&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="5"><li>最终效果如下：</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><h2 id="替换默认主题的部分组件" tabindex="-1">替换默认主题的部分组件 <a class="header-anchor" href="#替换默认主题的部分组件" aria-label="Permalink to &quot;替换默认主题的部分组件&quot;">​</a></h2><p>我并没有从零开始写一个主题，而是基于默认主题修改，主要是大部分功能已经满足需求。而使用默认主题，难免有部分组件想要修改，这该怎么办呢？</p><p>官方提供有一个<a href="https://vitepress.dev/guide/extending-default-theme#overriding-internal-components" target="_blank" rel="noreferrer">解决方案</a>, 通过设置别名进行替换。但试过之后，我发现包含有相对路径的引用就会报错，如下：</p><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><p>问题在于打包的时候，两个文件不在一个目录下，相对引用就会报错。这个也不是不能解决，可以自己写个 vite 插件，在加载的时候加载当前目录下的文件，这样路径就能保持了。</p><ol><li>在 <code>.vitepress/config.ts</code> 中写个简易插件。注意：带 ? 的是虚拟组件，需要过滤掉。</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#D73A49;"> default</span><span style="color:#6F42C1;"> defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  vite: {</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        name: </span><span style="color:#032F62;">&#39;vite:pres&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6F42C1;">        load</span><span style="color:#24292E;">(</span><span style="color:#E36209;">id</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#D73A49;">          const</span><span style="color:#005CC5;"> list</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> [</span><span style="color:#032F62;">&#39;VPNavBarMenuLink.vue&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;VPDocOutlineItem.vue&#39;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#D73A49;">          const</span><span style="color:#6F42C1;"> path</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">i</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;"> string</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#6F42C1;"> fileURLToPath</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#6F42C1;"> URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`./theme/override/${</span><span style="color:#24292E;">i</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.url));</span></span>
<span class="line"><span style="color:#D73A49;">          const</span><span style="color:#005CC5;"> item</span><span style="color:#D73A49;"> =</span><span style="color:#24292E;"> list.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">((</span><span style="color:#E36209;">i</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> id.</span><span style="color:#6F42C1;">includes</span><span style="color:#24292E;">(i) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#D73A49;"> !</span><span style="color:#24292E;">id.</span><span style="color:#6F42C1;">includes</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;?&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#D73A49;">          if</span><span style="color:#24292E;"> (item) {</span></span>
<span class="line"><span style="color:#D73A49;">            return</span><span style="color:#6F42C1;"> readFileSync</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">path</span><span style="color:#24292E;">(item), </span><span style="color:#032F62;">&#39;utf-8&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="2"><li>下面贴一个示例，原来的页内导航是没有任何选中标记，我改造了一下加入了选中类。</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><h2 id="自定义样式和一些风格偏好" tabindex="-1">自定义样式和一些风格偏好 <a class="header-anchor" href="#自定义样式和一些风格偏好" aria-label="Permalink to &quot;自定义样式和一些风格偏好&quot;">​</a></h2><p>样式替换还是比较方便的，跟着官方提供的示例进行改造即可，这里说几个风格偏好的点。</p><ul><li>自定义滚动条</li></ul><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">::-webkit-scrollbar</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">8</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">  height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">6</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">::-webkit-scrollbar-track</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#f1f1f1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">::-webkit-scrollbar-thumb</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#99999980</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">  border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">4</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">::-webkit-scrollbar-thumb:hover</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#55555580</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>自定义选中样式</li></ul><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">::selection</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">var</span><span style="color:#24292E;">(</span><span style="color:#E36209;">--vp-c-brand</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">  color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>自定义光标样式，可以在 <a href="https://zhutix.com/tag/cursors/" target="_blank" rel="noreferrer">致美化</a> 上面挑一套自己喜欢的光标主题。</li></ul><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#22863A;">*</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  cursor</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">url</span><span style="color:#24292E;">(</span><span style="color:#E36209;">/cursor/Default.cur</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">auto</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;">img</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  cursor</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">url</span><span style="color:#24292E;">(</span><span style="color:#E36209;">/cursor/zoomin.cur</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">zoom-in</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;">a</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#22863A;">a</span><span style="color:#D73A49;"> &gt;</span><span style="color:#22863A;"> *</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  cursor</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">url</span><span style="color:#24292E;">(</span><span style="color:#E36209;">/cursor/normal.cur</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">pointer</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>自定义动画，可以在 <a href="https://animista.net/play/basic/scale-up" target="_blank" rel="noreferrer">Animista</a> 上面调试好直接复制下来。</li></ul><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6F42C1;">.fade-in-fwd</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">  -webkit-animation</span><span style="color:#24292E;">: fade-in-fwd </span><span style="color:#005CC5;">0.6</span><span style="color:#D73A49;">s</span><span style="color:#005CC5;"> cubic-bezier</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0.39</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.575</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.565</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#005CC5;">both</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">  animation</span><span style="color:#24292E;">: fade-in-fwd </span><span style="color:#005CC5;">0.6</span><span style="color:#D73A49;">s</span><span style="color:#005CC5;"> cubic-bezier</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0.39</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.575</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.565</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#005CC5;">both</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@keyframes</span><span style="color:#E36209;"> slide-in-bottom</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#6F42C1;">  0%</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">    transform</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">translateY</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1000</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">    opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#6F42C1;">  100%</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#005CC5;">    transform</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">translateY</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">    opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="自动构建和部署在-github-上面" tabindex="-1">自动构建和部署在 GitHub 上面 <a class="header-anchor" href="#自动构建和部署在-github-上面" aria-label="Permalink to &quot;自动构建和部署在 GitHub 上面&quot;">​</a></h2><p>写静态博客的好处之一，就是可以白嫖部署服务(这里指的是 GitHub Action)，省去部署的时间。在 Github 中，如果你的仓库名是 &lt;username&gt;.github.io 格式，那么 master 分支下的内容会主动部署为静态网站，并可以通过 <code>https://&lt;username&gt;.github.io</code> 访问。</p><p>但日常操作中，我们的源码都在 master 分支，直接部署源码显然不对。此时，可以将打包后的内容放在别的分支，例如 gh-pages 分支。当然，这样做需要做额外的配置，但只需配置一次就行。</p><ol><li>新建 <code>.github/workflows/deploy.yml</code> 文件，写一个部署配置，这里用的是我以前使用的配置改过来的。</li></ol><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-light vp-code"><code><span class="line"><span style="color:#6A737D;"># 工作流名称，可自定义</span></span>
<span class="line"><span style="color:#22863A;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">自动部署</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 事件监听，决定什么时候触发该工作流内的任务</span></span>
<span class="line"><span style="color:#005CC5;">on</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#6A737D;">  # 在master分支推动到github时触发</span></span>
<span class="line"><span style="color:#22863A;">  push</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#22863A;">    branches</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">master</span><span style="color:#24292E;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 任务集合，可包含多个任务</span></span>
<span class="line"><span style="color:#22863A;">jobs</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#6A737D;">  # 任务名称</span></span>
<span class="line"><span style="color:#22863A;">  build</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#6A737D;">    # 运行的操作系统</span></span>
<span class="line"><span style="color:#22863A;">    runs-on</span><span style="color:#24292E;">: </span><span style="color:#032F62;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    # 步骤集合，可包含多个步骤</span></span>
<span class="line"><span style="color:#22863A;">    steps</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#6A737D;">      # 单个步骤，没有名称，直接使用一个action</span></span>
<span class="line"><span style="color:#24292E;">      - </span><span style="color:#22863A;">uses</span><span style="color:#24292E;">: </span><span style="color:#032F62;">actions/checkout@v2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      # 单个步骤，带有名称，带有参数</span></span>
<span class="line"><span style="color:#24292E;">      - </span><span style="color:#22863A;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">build and deploy</span></span>
<span class="line"><span style="color:#22863A;">        run</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">|</span></span>
<span class="line"><span style="color:#032F62;">          npm install</span></span>
<span class="line"><span style="color:#032F62;">          npm run build</span></span>
<span class="line"><span style="color:#032F62;">          cd dist</span></span>
<span class="line"><span style="color:#032F62;">          git config --global user.name &quot;juetan&quot;</span></span>
<span class="line"><span style="color:#032F62;">          git config --global user.email &quot;810335188@qq.com&quot;</span></span>
<span class="line"><span style="color:#032F62;">          git init</span></span>
<span class="line"><span style="color:#032F62;">          git add -A</span></span>
<span class="line"><span style="color:#032F62;">          git commit -m &quot;自动构建和部署(Github Action)&quot;</span></span>
<span class="line"><span style="color:#032F62;">          git push -f &quot;https://${{ github.actor }}:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}.git&quot; master:gh-pages</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>大致内容是，当有提交推送到 master 分支时，在一个 Ubuntu 系统进行安装依赖和打包，再把 dist 目录下的内容，推送到 gh-pages 分支。</p><ol start="2"><li>上面的推送有可能失败，因为 <code>secrets.GITHUB_TOKEN</code> 是需要权限才能使用的，可以更改为如下的配置：</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><ol start="3"><li>写完配置就可以这个推送了，可以在这里看到运行状态。</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><ol start="4"><li>构建后应该能看到多出来一个 gh-pages 分支，此时还需要配置该分支作为部署分支即可。</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><ol start="5"><li>通常需要等待一会才生效，下面贴一张部署完的页面效果图。</li></ol><p><div class="arco-image arco-image-with-footer-inner cursor-pointer" style=""><img class="arco-image-img" style="" alt="image"><div class="arco-image-overlay"><!--v-if--><!--v-if--></div><!--v-if--><!--v-if--></div></p><h2 id="组件演示功能" tabindex="-1">组件演示功能 <a class="header-anchor" href="#组件演示功能" aria-label="Permalink to &quot;组件演示功能&quot;">​</a></h2><h2 id="自定义域名" tabindex="-1">自定义域名 <a class="header-anchor" href="#自定义域名" aria-label="Permalink to &quot;自定义域名&quot;">​</a></h2><p>如果你想使用自己的域名，也是可以的。</p><h2 id="评论系统" tabindex="-1">评论系统 <a class="header-anchor" href="#评论系统" aria-label="Permalink to &quot;评论系统&quot;">​</a></h2><p>免费的评论系统有很多，例如:</p><ul><li><a href="https://github.com/gitalk/gitalk" target="_blank" rel="noreferrer">Gitalk</a>：使用 Github Issues 作为存储</li><li><a href="https://giscus.app/zh-CN" target="_blank" rel="noreferrer">Giscus</a>：使用 Github Discussion 作为存储</li><li><a href="./">Valine</a>：使用密钥直连数据库</li><li><a href="https://waline.js.org/" target="_blank" rel="noreferrer">Waline</a>：Valine 的优化版，通过新建管理后台连接数据库。</li></ul><h2 id="最后" tabindex="-1">最后 <a class="header-anchor" href="#最后" aria-label="Permalink to &quot;最后&quot;">​</a></h2><p>以上，想到什么写什么，可能存在遗漏或描述不全，后面根据情况在详细补充。</p></div></div></main><footer class="VPDocFooter" data-v-fa248dc2 data-v-a953259f><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--v-if--><footer class="text-gray-500 text-sm text-center pt-6 pb-5"><div><ul class="list-none flex gap-2 justify-center items-center"><li>已有 41 篇文章</li><li class="text-xs">|</li><li>已运行 386 天</li><li class="text-xs">|</li><li>最近更新于 几秒前</li></ul></div><div class="mt-1"> Copyright © 2023 绝弹笔记 <a href="https://beian.miit.gov.cn/" target="_blank" class="hover:text-[var(--vp-c-brand)] hover:underline underline-offset-2"> 桂ICP备2021001859号-1 </a></div></footer><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"draft_goframe_index.md\":\"UleQ5z97\",\"draft_render-mode_index.md\":\"WJGOGQqj\",\"draft_nodejs-file-extension_index.md\":\"8O1b5sYE\",\"frontend_browser-cache_post-browser-cache.md\":\"7bBxWvaL\",\"frontend_browser-download_index.md\":\"w6MI8w0e\",\"frontend_vitepress-blog_index.md\":\"oIJCV3Z9\",\"go_03.module_index.md\":\"56vtSEnB\",\"about_index.md\":\"EGkcZ34s\",\"go_ident_index.md\":\"3tCg7ad6\",\"draft_automa_index.md\":\"rOitIHkc\",\"archive_index.md\":\"pRj-bsRH\",\"frontend_js-module-types_index.md\":\"vUTf4CMR\",\"frontend_js-priority_index.md\":\"VxBs6jf3\",\"frontend_index.md\":\"28PNAX4i\",\"draft_transform-translate-scale_index.md\":\"L-K3guLj\",\"draft_nginx_index.md\":\"dlUcsfZl\",\"rust_07.macro_index.md\":\"mL1MlP36\",\"rust_03.crate_index.md\":\"z4kaK9l9\",\"rust_05.struct_index.md\":\"fPvCd-45\",\"rust_06.collection_index.md\":\"tQeFTJv0\",\"rust_04.ownership_index.md\":\"HolVRtK2\",\"draft_gitea-actions_index.md\":\"FcS5MX4K\",\"frontend_nuxtjs_index.md\":\"2E21MW98\",\"frontend_tool-ejs_index.md\":\"fuKOXgtQ\",\"go_01.start_index.md\":\"ZRktlypu\",\"go_02.var_index.md\":\"ZU2ezGIE\",\"interview_post-implement.md\":\"4H5vkci0\",\"rust_02.basic_index.md\":\"zqdF5Sby\",\"rust_01.start_index.md\":\"38vJleiD\",\"tools_bash_index.md\":\"UtYVQ9gg\",\"tools_chrome-web-scrapper_index.md\":\"-TrlvS3Q\",\"tools_npm-package-json_index.md\":\"jihUvlsa\",\"tools_mkcert-nginx-https_index.md\":\"8JdnHKxy\",\"tools_node-alpine-sqlite3_index.md\":\"T0MVi6vo\",\"tools_nest-swagger_index.md\":\"5Pq8_7SN\",\"tools_pnpm-patch_index.md\":\"gkRL5WOj\",\"tools_cicd_index.md\":\"0kN2xffD\",\"tools_http-orign-host-referer_index.md\":\"Ij2XFMrD\",\"tools_emby-unlock-server_index.md\":\"RAg5pQRc\",\"tools_crawlee_index.md\":\"6nLh-ryn\",\"tools_git_index.md\":\"HNIYmo17\",\"tools_devops_index.md\":\"wGirAnm0\",\"index.md\":\"pNIX3fIp\",\"tools_sse_index.md\":\"1hks-M7T\",\"tools_xpath_index.md\":\"n_tI3yky\",\"tools_ssh-remote_index.md\":\"1wHHXadt\",\"tools_rollup-static_index.md\":\"PaH7ahse\",\"tools_tampermonkey_index.md\":\"O5ftN_Go\",\"tools_vite-plugin-build-info_index.md\":\"xazRrGLw\",\"tools_web-audio_index.md\":\"tUk8-d2O\",\"tools_wxqy-github-push_index.md\":\"J-9aYxfn\",\"vue_vue-load-from-url_index.md\":\"_E8LRsOE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"绝弹笔记\",\"titleTemplate\":\":title | 绝弹笔记\",\"description\":\"一位前端开发者的笔记\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":false,\"themeConfig\":{\"logo\":\"/favicon.ico\",\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"noResultsText\":\"没有找到结果\",\"resetButtonTitle\":\"重置搜索\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"移动\",\"closeText\":\"关闭\"}}}}},\"outline\":{\"label\":\"本篇目录\",\"level\":[2,3]},\"nav\":[{\"text\":\"首页\",\"icon\":\"i-icon-park-outline-home\",\"link\":\"/\"},{\"text\":\"归档\",\"icon\":\"i-icon-park-outline-time\",\"link\":\"/archive/\"},{\"text\":\"关于\",\"icon\":\"i-icon-park-outline-user\",\"link\":\"/about/\"}],\"sidebar\":{\"/frontend/1\":[{\"text\":\"基础知识\",\"items\":[{\"text\":\"HTML中的标签有多少个?\",\"link\":\"/front-end/a\"},{\"text\":\"Runtime API示例\",\"link\":\"/front-end/b\"}]},{\"text\":\"工具类库\",\"items\":[{\"text\":\"Lodash在日常开发中有用的函数\"}]},{\"text\":\"vue\",\"items\":[{\"text\":\"如何将.vue文件编译成js文件?\"}]},{\"text\":\"浏览器\",\"items\":[{\"text\":\"浏览器Console面板中有用的调试技巧\"},{\"text\":\"如何利用EJS模板引擎辅助生成代码?\",\"link\":\"/front-end/ejs-generate-code\"},{\"text\":\"项目中的字典常量应该如何维护?\"},{\"text\":\"从new xx()和new xx的区别聊聊JS中操作符的优先级问题\",\"link\":\"/front-end/js-operator-priority\"},{\"text\":\"TailwindCSS中一些有意思的用法和实现\"},{\"text\":\"函数柯里化是什么如何实现它?\"},{\"text\":\"写一个VITE插件: 根据配置加载不同后缀的文件\"}]}]},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>