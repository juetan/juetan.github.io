---
title: Go系列[二]：变量声明和变量类型
date: 2023-09-07 19:17:00
---

Go 的语法跟其他语言类似

## 声明变量

使用 var name type = value 语法声明变量，声明时变量类型和初始值至少得提供一个，当只提供类型时，默认值为零值(字符串为 ""，整型为 0，布尔为 false)。如下：

```go
var name string;                     // 提供类型，初始值值为：""
var age = 18;                        // 提供初始值，类型推导为 int
var email string = "1@exmple.com";   // 同时提供
```

支持同时声明多变量，使用圆括号包裹声明内容，等号左边是变量名和类型，多个变量名以逗号隔开，可同时为多个变量指定同一类型，等号右边是变量值，多个变量值以逗号隔开，如下：

```go
var ( x, y int );        // 同类型
var (z, z1 = 1, "1");    // 带默认值
```

在函数内部，可使用 name := value 语法声明短变量，同时声明多个短变量时可覆盖同名变量，但至少得有一个新变量，如下：

```go
in, err := os.Open(infile)
out, err := os.Create(outfile) // out 是新变量，err 覆盖前面的同名变量
```

## 声明常量

使用 const NAME type = value 语法声明常量，其中类型可忽略交由编译器推断，值需要指定一个具体值。通常用于指定一个固定值，例如圆周率等

```go
const PI = 3.131492654
const (
  x uint16 = 100
  y                       // y 和 x 相等
  z = 10
)
```

## 简单变量

简单变量，指的是存储在栈结构上，长度相对固定且占用内存不大的数据结构，例如字符串、数字和布尔等数据类型。基础类型是基础，复杂类型如数组等也是由这些类型封装而成的。

### 字符串

类型为 string

### 整形

整形，分为 无符号(uint) 和 有符号(int) 两类，有无符号指的是有无正负符号。无符号不包含负数(首位为0)，而有符号类型包含负数(首位为 0 代表正数，首位为 1 代表负数)，u 是 unsinged 的简写，int 是 integer 的简写，例如：

```go
var x int8 = 1      // 无符号8位，范围：0 ~ 255
var y uint8 = -1    // 有符号8位，范围：-128 ~ 127
```

长度有 8、16、32、64 和 int 五种，其中 int 取决于操作系统，在 32 位操作系统上 int 长度为 32，在 64 位操作系统上 int 长度为 64。两两相交，共有如下类型：

| 符号   | 8 位  | 16 位  | 32 位  | 64 位  | 系统位 |
| ------ | ----- | ------ | ------ | ------ | ------ |
| 有符号 | int8  | int16  | int32  | int64  | int    |
| 无符号 | uint8 | uint16 | uint32 | uint64 | uint   |

### 浮点型

浮点型，点指的是小数点，浮点顾名思义小数点的位置是浮动的。分为 float32 和 float64 两种，其中 float32 也称单精度浮点数，而 float64 称为双精度浮点数。浮点数都是有符号的，示例如下：

```go
var x float32 = 0.1
var y float64 = 0.1
```

### 布尔型

包含两个值：true(真) 和 false(假)。

```go
var t bool = true
var f bool = false
```